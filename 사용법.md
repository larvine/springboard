# Jekyll 뉴스레터 생성기 사용 가이드 🇰🇷

## 🎯 개요

Jekyll 블로그에서 뉴스레터 포스트를 쉽게 만들 수 있는 Python 도구입니다.

## 📦 설치

### 1단계: 필요한 패키지 설치

```bash
pip install pyyaml
```

### 2단계: 파일 배치

다음 파일들을 Jekyll 블로그 폴더에 복사하세요:

```
블로그폴더/
├── newsletter_generator.py      # 메인 프로그램
├── newsletter_config.yaml       # 설정 파일
├── example_newsletter.json      # 예제 파일
└── templates/                   # 템플릿 폴더
    ├── post_template.md
    ├── wide_section.html
    ├── grid_section.html
    ├── grid_item.html
    └── newsletter_styles.css
```

### 3단계: 설정 파일 수정

`newsletter_config.yaml` 파일을 열어서 경로를 확인하세요:

```yaml
templates_dir: templates    # 템플릿이 있는 폴더
posts_dir: _posts          # Jekyll 포스트 폴더
images_dir: assets/images  # 이미지 폴더
candidate_days: 30         # 최근 30일 이내 포스트를 후보로
```

## 🚀 사용 방법

### 방법 1: 간단한 대화형 모드 (추천!)

```bash
python newsletter_generator.py
```

프로그램이 단계별로 안내해줍니다:

1. **후보 포스트 확인**: 최근 30일 이내의 포스트 목록이 나옵니다
   ```
   [1] GPT-5 출시 소식
       날짜: 2025-10-20
   
   [2] 양자 컴퓨터 발전
       날짜: 2025-10-19
   ```

2. **제목 입력**: 뉴스레터 제목을 입력하세요
   ```
   > AI 주간 뉴스 - 10월 3주차
   ```

3. **Wide Section 선택**: 큰 이미지로 강조할 포스트 번호를 입력하세요
   ```
   > 1
   ```

4. **Grid Section 선택**: 작은 카드로 보여줄 포스트들을 입력하세요
   ```
   > 2,3,4
   ```

5. **완료!** `_posts/` 폴더에 파일이 자동 생성됩니다

### 방법 2: 후보만 확인하기

```bash
python newsletter_generator.py --candidates
```

포스트 목록만 보고 싶을 때 사용하세요.

### 방법 3: JSON 파일로 한 번에 만들기

먼저 JSON 파일을 만드세요 (`my_newsletter.json`):

```json
{
  "title": "AI 주간 뉴스 - 10월 3주차",
  "date": "2025-10-21",
  "wide_items": [
    {
      "title": "GPT-5 출시 임박",
      "image": "/assets/images/gpt5.jpg",
      "url": "https://myblog.com/posts/gpt5",
      "description": "OpenAI가 GPT-5를 곧 출시합니다..."
    }
  ],
  "grid_items": [
    {
      "title": "구글 양자컴퓨터",
      "image": "/assets/images/quantum.jpg",
      "url": "https://myblog.com/posts/quantum",
      "description": "구글이 새 양자 칩 발표..."
    },
    {
      "title": "애플 Vision Pro 2",
      "image": "/assets/images/vision.jpg",
      "url": "https://myblog.com/posts/vision",
      "description": "애플이 차세대 VR 기기..."
    }
  ],
  "filename": "2025-10-21-newsletter.md"
}
```

그리고 실행:

```bash
python newsletter_generator.py --batch my_newsletter.json
```

## 🎨 템플릿 수정하기

### Wide Section (큰 이미지 섹션)

`templates/wide_section.html` 파일을 수정하면 됩니다.

**사용 가능한 변수:**
- `{title}` - 기사 제목
- `{image}` - 이미지 경로
- `{url}` - 링크 주소
- `{description}` - 기사 설명

### Grid Section (카드 격자 섹션)

`templates/grid_item.html` 파일을 수정하면 됩니다.

같은 변수를 사용할 수 있습니다.

## 💡 실전 예시

### 예시 1: 주간 기술 뉴스레터

```bash
$ python newsletter_generator.py

📝 뉴스레터 제목을 입력하세요:
> 이번 주 테크 뉴스 정리 (10/21)

🎨 Wide Section에 들어갈 포스트를 선택하세요:
> 1

📊 Grid Section에 들어갈 포스트를 선택하세요:
> 2,3,4,5

✅ 뉴스레터가 생성되었습니다!
   📄 파일: _posts/2025-10-21-newsletter.md
```

### 예시 2: Python 코드로 사용하기

```python
from newsletter_generator import NewsletterGenerator

# 생성기 만들기
gen = NewsletterGenerator()

# 뉴스레터 만들기
content = gen.generate_newsletter_post(
    title='이번 주 AI 소식',
    wide_items=[
        {
            'title': 'GPT-5 출시',
            'image': '/images/gpt5.jpg',
            'url': 'https://blog.com/gpt5',
            'description': 'GPT-5가 드디어...'
        }
    ],
    grid_items=[
        {
            'title': '구글 AI',
            'image': '/images/google.jpg',
            'url': 'https://blog.com/google',
            'description': '구글의 새로운...'
        }
    ]
)

# 저장하기
file_path = gen.save_newsletter_post(content)
print(f'생성됨: {file_path}')
```

## 🎯 워크플로우 예시

실제로 뉴스레터를 만드는 과정:

1. **매주 월요일마다:**
   ```bash
   python newsletter_generator.py
   ```

2. **후보 포스트 확인** (지난주에 쓴 글들이 나옴)

3. **중요한 글 1개를 Wide Section으로 선택**

4. **나머지 글 3-4개를 Grid Section으로 선택**

5. **자동 생성된 파일 확인 후 Jekyll 빌드**
   ```bash
   jekyll build
   git add .
   git commit -m "Add weekly newsletter"
   git push
   ```

## 🔧 트러블슈팅

### 문제: "템플릿 파일을 찾을 수 없습니다"

**해결책:**
- `templates/` 폴더가 있는지 확인
- `newsletter_config.yaml`에서 경로 확인

### 문제: "후보 포스트가 없습니다"

**해결책:**
- `_posts/` 폴더에 마크다운 파일이 있는지 확인
- 포스트에 Front Matter (---로 시작하는 부분)가 있는지 확인
- `candidate_days`를 늘려보세요 (60이나 90으로)

### 문제: 한글이 깨짐

**해결책:**
- 파일을 UTF-8로 저장했는지 확인
- Jekyll `_config.yml`에 `encoding: utf-8` 추가

## 📝 포스트 Front Matter 형식

뉴스레터 후보로 선택되려면 기존 포스트가 이런 형식이어야 합니다:

```markdown
---
layout: post
title: "내 블로그 포스트 제목"
date: 2025-10-20
description: "포스트 설명"
image: /assets/images/my-image.jpg
url: https://myblog.com/posts/my-post
---

포스트 내용...
```

## 💅 스타일 적용하기

### 방법 1: CSS 파일 링크

`_includes/head.html`에 추가:

```html
<link rel="stylesheet" href="{{ '/assets/css/newsletter.css' | relative_url }}">
```

`templates/newsletter_styles.css`를 `assets/css/newsletter.css`로 복사

### 방법 2: 기존 CSS에 통합

`templates/newsletter_styles.css` 내용을 기존 CSS 파일에 복사

## 🎁 팁

1. **정기적으로 실행**: 매주 같은 요일에 실행하면 루틴이 됩니다

2. **이미지 준비**: 포스트 작성할 때 미리 대표 이미지를 설정해두세요

3. **템플릿 커스터마이징**: 블로그 디자인에 맞게 HTML/CSS 수정하세요

4. **자동화**: cron이나 GitHub Actions로 자동 실행 설정 가능

## ❓ 자주 묻는 질문

**Q: Wide Section에 여러 개 넣을 수 있나요?**  
A: 네! 쉼표로 구분해서 `1,2,3` 이렇게 입력하세요.

**Q: Grid는 몇 개까지 넣을 수 있나요?**  
A: 제한 없습니다. 하지만 3-6개가 보기 좋습니다.

**Q: 템플릿을 여러 개 만들 수 있나요?**  
A: 네! `templates/` 폴더에 다른 템플릿을 만들고 코드에서 선택하면 됩니다.

**Q: 이미지가 필수인가요?**  
A: 아니요. 이미지 없이도 작동합니다. 빈 문자열로 두면 됩니다.

## 📞 도움이 필요하신가요?

- README_NEWSLETTER.md 파일에 더 자세한 영문 설명이 있습니다
- 코드에 주석이 자세히 달려있으니 참고하세요
